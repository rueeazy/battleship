(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(6),i=a.n(n),c=a(1),o=a(4),u=function(e){return s.a.createElement("div",{onClick:e.markHit,id:e.id,className:e.status?"taken "+e.ship:null})},l=function(e){var t=Object(r.useState)((function(){return function(){for(var e=[],t=0;t<100;t++)e.push({id:t,status:!1,ship:""});return e}()})),a=Object(c.a)(t,2),n=a[0],i=a[1],l=n,d=Object(o.a)(l);return s.a.createElement("div",{className:e.grid,onDrop:function(t){t.preventDefault();var a=t.dataTransfer.getData("ship_id"),r=t.dataTransfer.getData("specific_id"),s=t.dataTransfer.getData("ship_length"),n=document.getElementById(a),c=n.lastChild.id,o=c.slice(0,-2),u=parseInt(c.substr(-1)),l=u+parseInt(t.target.id),m=parseInt(r.substr(-1)),p=[0,10,20,30,40,50,60,70,80,90,1,11,21,31,41,51,61,71,81,91,2,22,32,42,52,62,72,82,92,3,13,23,33,43,53,63,73,83,93].splice(0,10*(u-1));if(l-=m,!0!==e.isHorizontal||p.includes(l)||[9,19,29,39,49,59,69,79,89,99].includes(l-(s-1))){if(!1!==e.isHorizontal||[99,98,97,96,95,94,93,92,91,90].includes(l))return;for(var b=0;b<s;b++)d[parseInt(t.target.id)-m+10*b].status=!0,d[parseInt(t.target.id)-m+10*b].ship=o}else for(var h=0;h<s;h++)d[parseInt(t.target.id)-m+h].status=!0,d[parseInt(t.target.id)-m+h].ship=o;i(d),e.removeShipFromArmament(n)},onDragOver:function(e){e.preventDefault()}},n.map((function(e){return s.a.createElement(u,{key:e.id,id:e.id,status:e.status,ship:e.ship})})))},d=function(e){Object(r.useEffect)((function(){p(m+1)}),[]);var t=Object(r.useState)(10),a=Object(c.a)(t,1)[0],n=Object(r.useState)((function(){return function(){for(var e=[],t=0;t<100;t++)e.push({id:t,status:!1,ship:""});return e}()})),i=Object(c.a)(n,1)[0],l=Object(r.useState)(0),d=Object(c.a)(l,2),m=d[0],p=d[1],b=i,h=Object(o.a)(b),f=[{name:"carrier",directions:[[0,1,2,3,4],[0,10,20,30,40]]},{name:"battleship",directions:[[0,1,2,3],[0,10,20,30]]},{name:"cruiser",directions:[[0,1,2],[0,10,20]]},{name:"submarine",directions:[[0,1,2],[0,10,20]]},{name:"destroyer",directions:[[0,1],[0,10]]}],g=function e(t){var r,s=O(),n=t.directions[s],c=1===s?1:10;r=1===s?Math.abs(Math.floor(Math.random()*(100-n.length*a+a))):Math.abs(Math.floor(Math.random()*i.length-t.directions[0].length*c));var o=n.some((function(e){return!1!==h[r+e].status})),u=r+n.length>10*Math.ceil(r/10+.01);o||u?e(t):n.forEach((function(e){h[r+e].status=!0,h[r+e].ship=t.name}))},O=function(){return Math.floor(2*Math.random())};return m<1&&(g(f[0]),g(f[1]),g(f[2]),g(f[3]),g(f[4])),s.a.createElement("div",{className:e.grid},i.map((function(t){return s.a.createElement(u,{key:t.id,id:t.id,status:t.status,ship:t.ship,markHit:e.markHit})})))},m=function(e){for(var t,a=Object(r.useState)(e.length),n=Object(c.a)(a,1)[0],i=[],o=0;o<n;o++)i.push(s.a.createElement("div",{key:e.type+"-"+o,id:e.type+"-"+o}));return s.a.createElement("div",{id:e.id,className:"ship "+e.type+"-container"+(!1===e.rotation?"-vertical":""),draggable:"true",onDragStart:function(e){var a=e.target,r=a.childNodes.length;e.dataTransfer.setData("ship_id",a.id),e.dataTransfer.setData("specific_id",t),e.dataTransfer.setData("ship_length",r)},onDragOver:function(e){e.stopPropagation()},onMouseDown:function(e){t=e.target.id}},i)},p=function(e){var t=Object(r.useState)(!0),a=Object(c.a)(t,2),n=a[0],i=a[1];return s.a.createElement("div",{className:"gameboard"},s.a.createElement("div",{className:"title"},"BattleShip"),s.a.createElement("div",{className:"grid-container"},s.a.createElement(l,{grid:"player-grids grid-user",isHorizontal:n,removeShipFromArmament:function(e){document.querySelector(".armament-container").removeChild(e)}}),s.a.createElement(d,{grid:"player-grids grid-cpu",markHit:e.markHit})),s.a.createElement("div",{className:"hidden-info"},s.a.createElement("button",{onClick:e.startGame,id:"start",className:"start"},"Start Game"),s.a.createElement("button",{onClick:function(e){e.preventDefault(),i(!n)},id:"rotate",className:"rotate"},"Rotate Ships"),s.a.createElement("h3",{id:"turn"}," "),s.a.createElement("h3",{id:"info"},"Drag & Place Your Ships")),s.a.createElement("div",{className:"armament-container"},s.a.createElement(m,{type:"carrier",id:"ship-1",length:5,rotation:n}),s.a.createElement(m,{type:"battleship",id:"ship-2",length:4,rotation:n}),s.a.createElement(m,{type:"cruiser",id:"ship-3",length:3,rotation:n}),s.a.createElement(m,{type:"submarine",id:"ship-4",length:3,rotation:n}),s.a.createElement(m,{type:"destroyer",id:"ship-5",length:2,rotation:n})))};a(12),a(13);var b=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(),o=Object(c.a)(i,2),u=o[0],l=o[1],d=Object(r.useState)(5),m=Object(c.a)(d,2),b=m[0],h=m[1],f=Object(r.useState)(4),g=Object(c.a)(f,2),O=g[0],j=g[1],y=Object(r.useState)(3),v=Object(c.a)(y,2),S=v[0],E=v[1],L=Object(r.useState)(3),k=Object(c.a)(L,2),M=k[0],D=k[1],H=Object(r.useState)(2),T=Object(c.a)(H,2),N=T[0],C=T[1],q=Object(r.useState)(17),I=Object(c.a)(q,2),F=I[0],_=I[1],G=Object(r.useState)(5),Y=Object(c.a)(G,2),w=Y[0],z=Y[1],B=Object(r.useState)(4),A=Object(c.a)(B,2),J=A[0],P=A[1],x=Object(r.useState)(3),R=Object(c.a)(x,2),W=R[0],K=R[1],Q=Object(r.useState)(3),U=Object(c.a)(Q,2),V=U[0],X=U[1],Z=Object(r.useState)(2),$=Object(c.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)(17),re=Object(c.a)(ae,2),se=re[0],ne=re[1];Object(r.useEffect)((function(){ie()}));var ie=function(){var e=document.querySelector("#turn");a?document.querySelector("#info").innerHTML=0===se?"Game Over. You Lose":"Game Over. You Win":(!0===u?e.innerHTML="Your Turn":!1===u&&(e.innerHTML="Computers Turn",setTimeout(ce,1e3)),0===F&&n(!0))},ce=function e(){document.querySelector("#info").innerHTML="";var t=document.querySelector(".grid-user").childNodes,a=Math.floor(100*Math.random());t[a].classList.contains("miss")||"#F75263"===t[a].style.backgroundColor?e():(0===t[a].classList.length?(t[a].style.backgroundColor="rgb(199 186 186 / 80%)",t[a].classList.add("miss")):(t[a].style.backgroundColor="#F75263","carrier"===t[a].classList[1]?(ne(se-1),z(w-1),oe(w,t[a].classList[1])):"battleship"===t[a]?(ne(se-1),P(J-1),oe(J,t[a].classList[1])):"cruiser"===t[a]?(ne(se-1),K(W-1),oe(W,t[a].classList[1])):"submarine"===t[a]?(ne(se-1),X(V-1),oe(V,t[a].classList[1])):"destroyer"===t[a]&&(ne(se-1),te(ee-1),oe(ee,t[a].classList[1]))),l(!u))},oe=function(e,t){1===e&&(document.querySelector("#info").innerHTML=!0===u?"Enemy ".concat(t," destroyed"):"Your ".concat(t," was destroyed"))};return s.a.createElement("div",{className:"app"},s.a.createElement(p,{startGame:function(){l(!0),document.querySelector(".armament-container").style.display="none",document.querySelector("#info").innerHTML="",document.querySelector("#start").style.display="none",document.querySelector("#rotate").style.display="none"},markHit:function(e){var t=e.target;"#F75263"===t.style.backgroundColor||t.classList.contains("miss")||(0===t.classList.length?(t.style.backgroundColor="rgb(199 186 186 / 80%)",t.classList.add("miss")):(t.style.backgroundColor="#F75263","carrier"===t.classList[1]?(_(F-1),h(b-1),oe(b,t.classList[1])):"battleship"===t.classList[1]?(_(F-1),j(O-1),oe(O,t.classList[1])):"cruiser"===t.classList[1]?(_(F-1),E(S-1),oe(S,t.classList[1])):"submarine"===t.classList[1]?(_(F-1),D(M-1),oe(M,t.classList[1])):"destroyer"===t.classList[1]&&(_(F-1),C(N-1),oe(N,t.classList[1]))),l(!u))}}))};i.a.render(s.a.createElement(b,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.4443064c.chunk.js.map